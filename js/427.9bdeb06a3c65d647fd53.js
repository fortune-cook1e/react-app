"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[427],{7427:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var n=t(4942),c=t(5861),s=t(9439),a=t(4687),i=t.n(a),o=t(7294),l=t(6579),u=t(4391),p=t(5026),d=t(9650),f=t(1577),h=t(1413),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},m=t(76),v=function(e,r){return o.createElement(m.Z,(0,h.Z)((0,h.Z)({},e),{},{ref:r,icon:g}))};v.displayName="UserOutlined";var b=o.forwardRef(v),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},x=function(e,r){return o.createElement(m.Z,(0,h.Z)((0,h.Z)({},e),{},{ref:r,icon:j}))};x.displayName="LockOutlined";var y=o.forwardRef(x),Z=t(8573),w=t(6974),O="src-pages-login-index-module_HDXgL",P="src-pages-login-index-module_2ftRm",k=t(8767),C=t(5893);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var D=l.Z.Item,E=u.Z.Password,M=function(){var e=(0,w.s0)(),r=(0,k.useQueryClient)(),t=(0,Z.a)(),a=t.login,h=t.register,g=l.Z.useForm(),m=(0,s.Z)(g,1)[0],v=(0,o.useState)({login:!1,register:!1}),j=(0,s.Z)(v,2),x=j[0],S=j[1];(0,o.useEffect)((function(){r.invalidateQueries()}),[]);var M=function(){var r=(0,c.Z)(i().mark((function r(t){var c,s;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,S(z(z({},x),{},(0,n.Z)({},t,!0))),r.next=4,m.validateFields();case 4:return c=r.sent,s="login"===t?a:h,r.next=8,s(c);case 8:p.ZP.success("".concat("login"===t?"登录":"注册","成功")),e("/dashboard"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),S({login:!1,register:!1});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();return(0,C.jsx)("section",{className:O,children:(0,C.jsx)("div",{className:P,children:(0,C.jsxs)(l.Z,{form:m,labelCol:{span:5},children:[(0,C.jsx)(D,{label:"账号",name:"username",rules:[{required:!0,message:"Please input your Password!"}],children:(0,C.jsx)(u.Z,{placeholder:"请输入账号",prefix:(0,C.jsx)(b,{})})}),(0,C.jsx)(D,{label:"密码",name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,C.jsx)(E,{placeholder:"请输入密码",prefix:(0,C.jsx)(y,{})})}),(0,C.jsx)(D,{wrapperCol:{offset:5},children:(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(f.Z,{htmlType:"submit",type:"primary",onClick:function(){return M("login")},loading:x.login,children:"登录"}),(0,C.jsx)(f.Z,{type:"primary",onClick:function(){return M("register")},loading:x.register,children:"注册"})]})})]})})})}}}]);