"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[424],{27880:function(n,t,e){e.d(t,{LI:function(){return u},_A:function(){return d},al:function(){return i},lj:function(){return c},yY:function(){return o}});var r=e(51246),a="/visual",u=function(n){return(0,r.Z)({url:"".concat(a,"/add"),data:n,method:"post"})},c=function(){return(0,r.Z)({url:"".concat(a,"/list"),method:"get"})},i=function(n){return(0,r.Z)({url:"".concat(a,"/info"),method:"get",params:{id:n}})},o=function(n){return(0,r.Z)({url:"".concat(a,"/update"),method:"post",data:n})},d=function(n){return(0,r.Z)({url:"".concat(a,"/delete"),method:"post",data:{id:n}})}},72424:function(n,t,e){e.r(t),e.d(t,{default:function(){return v}});var r=e(15861),a=e(93324),u=e(64687),c=e.n(u),i=e(74428),o=e(55026),d=e(19650),s=e(71577),l=e(47679),f=e(67294),p=e(89250),m="src-pages-visual-management-index-module_B+oRh",h="src-pages-visual-management-index-module_KEuzj",Z=e(27880),x=e(85893),v=function(){var n=(0,p.s0)(),t=(0,f.useState)(""),e=(0,a.Z)(t,2),u=e[0],v=e[1],g=(0,i.Z)((0,r.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,Z.lj)();case 2:return t=n.sent,n.abrupt("return",t.data.list||[]);case 4:case"end":return n.stop()}}),n)}))),{debounceWait:300}),j=g.loading,k=g.data,y=g.run,_=(0,i.Z)(Z._A,{manual:!0,onSuccess:function(){o.ZP.success("删除成功"),y(),v("")}}),w=_.loading,C=_.run,b=[{title:"id",key:"id",dataIndex:"id"},{title:"操作",key:"id",dataIndex:"id",render:function(t){return(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(s.Z,{onClick:function(){n("/visual?id=".concat(t))},children:"查看详情"}),(0,x.jsx)(s.Z,{onClick:function(){return C(t)},loading:w&&u===t,children:"删除"})]})}}];return(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("div",{className:h,children:(0,x.jsx)(d.Z,{children:(0,x.jsx)(s.Z,{type:"primary",onClick:function(){n("/visual")},children:"创建"})})}),(0,x.jsx)(l.Z,{rowKey:"id",dataSource:k,loading:j,columns:b,pagination:!1})]})}}}]);